{
  "openapi": "3.1.0",
  "info": {
    "title": "GPU Upsampler Control",
    "description": "\n## GPU Audio Upsampler Web API\n\nControl interface for the GPU-accelerated audio upsampler daemon.\n\n### Features\n- **Daemon Control**: Start/stop/restart the audio processing daemon\n- **EQ Management**: Import and manage EQ profiles (AutoEq/Equalizer APO format)\n- **OPRA Integration**: Access the OPRA headphone EQ database\n- **Real-time Stats**: WebSocket endpoint for live statistics\n\n### Authentication\nNo authentication required (local network only).\n    ",
    "version": "1.0.0"
  },
  "paths": {
    "/": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Root",
        "description": "Serve the embedded HTML page.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/status": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Status",
        "description": "Get current system status.",
        "operationId": "get_status_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Status"
                }
              }
            }
          }
        }
      }
    },
    "/settings": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Update Settings",
        "description": "Update application settings.",
        "operationId": "update_settings_settings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SettingsUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/devices": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "List Devices",
        "description": "List available ALSA devices.",
        "operationId": "list_devices_devices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevicesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/start": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Start",
        "description": "Start the daemon.",
        "operationId": "daemon_start_daemon_start_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/stop": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Stop",
        "description": "Stop the daemon.",
        "operationId": "daemon_stop_daemon_stop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/restart": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Restart",
        "description": "Restart the daemon.",
        "operationId": "daemon_restart_daemon_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/status": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Status",
        "description": "Get detailed daemon status.",
        "operationId": "daemon_status_daemon_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DaemonStatus"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/zmq/ping": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Zmq Ping",
        "description": "Ping the daemon via ZeroMQ.",
        "operationId": "zmq_ping_daemon_zmq_ping_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ZmqPingResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/zmq/command/{cmd}": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Zmq Command",
        "description": "Send arbitrary command to daemon via ZeroMQ.",
        "operationId": "zmq_command_daemon_zmq_command__cmd__post",
        "parameters": [
          {
            "name": "cmd",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Cmd"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/phase-type": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Get Phase Type",
        "description": "Get current phase type from daemon.\n\nReturns the current filter phase type (minimum or hybrid).\nHybrid combines minimum phase below 100 Hz with linear phase above 100 Hz\n(10 ms alignment) to retain imaging while keeping bass tight.",
        "operationId": "get_phase_type_daemon_phase_type_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhaseTypeResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "daemon"
        ],
        "summary": "Set Phase Type",
        "description": "Set phase type on daemon.\n\nAll filter variants (min/linear × rate families) are preloaded by default, so changes take effect immediately without daemon restart.\n\n- minimum: Minimum phase filter (recommended, no pre-ringing)\n- hybrid: Minimum phase below 100 Hz / linear phase above 100 Hz (10 ms alignment)",
        "operationId": "set_phase_type_daemon_phase_type_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhaseTypeUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/restart-full": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Reload Daemon",
        "description": "Restart daemon with updated configuration.\n\nThis is called after settings changes that require a daemon restart\n(e.g., sample rate changes, EQ profile changes).",
        "operationId": "reload_daemon_daemon_restart_full_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/rewire": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Rewire Pipewire",
        "description": "Rewire PipeWire connections.",
        "operationId": "rewire_pipewire_daemon_rewire_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RewireRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/profiles": {
      "get": {
        "tags": [
          "eq"
        ],
        "summary": "List Eq Profiles",
        "description": "List available EQ profiles in data/EQ directory.\nReturns extended info including file size and profile type.",
        "operationId": "list_eq_profiles_eq_profiles_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqProfilesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/eq/validate": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Validate Eq Profile",
        "description": "Validate an EQ profile file before importing.\nChecks format, parameter ranges, and security constraints.\nDoes not save the file.",
        "operationId": "validate_eq_profile_eq_validate_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_validate_eq_profile_eq_validate_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqValidationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/import": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Import Eq Profile",
        "description": "Import an EQ profile file (AutoEq/Equalizer APO format).\n\nSecurity features:\n- File size limit (1MB)\n- Filename sanitization (path traversal prevention)\n- Content validation (format, parameter ranges)\n- Overwrite protection (requires explicit flag)",
        "operationId": "import_eq_profile_eq_import_post",
        "parameters": [
          {
            "name": "overwrite",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Overwrite"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_eq_profile_eq_import_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/import-text": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Import Eq Text",
        "description": "Import an EQ profile from raw text pasted via the API.\n\nMirrors the same validation and overwrite safeguards as file uploads.",
        "operationId": "import_eq_text_eq_import_text_post",
        "parameters": [
          {
            "name": "overwrite",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Overwrite"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EqTextImportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/activate/{name}": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Activate Eq Profile",
        "description": "Activate an EQ profile by name.",
        "operationId": "activate_eq_profile_eq_activate__name__post",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/deactivate": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Deactivate Eq",
        "description": "Deactivate current EQ profile.",
        "operationId": "deactivate_eq_eq_deactivate_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/eq/profiles/{name}": {
      "delete": {
        "tags": [
          "eq"
        ],
        "summary": "Delete Eq Profile",
        "description": "Delete an EQ profile.",
        "operationId": "delete_eq_profile_eq_profiles__name__delete",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/active": {
      "get": {
        "tags": [
          "eq"
        ],
        "summary": "Get Active Eq",
        "description": "Get the currently active EQ profile with parsed content.",
        "operationId": "get_active_eq_eq_active_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqActiveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/opra/stats": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Stats",
        "description": "Get OPRA database statistics.",
        "operationId": "opra_stats_opra_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraStats"
                }
              }
            }
          }
        }
      }
    },
    "/opra/vendors": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Vendors",
        "description": "List all vendors in OPRA database.",
        "operationId": "opra_vendors_opra_vendors_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraVendorsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/opra/search": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Search",
        "description": "Search headphones by name.\nReturns products with embedded vendor info and EQ profiles.",
        "operationId": "opra_search_opra_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "",
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/products/{product_id}": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Product",
        "description": "Get a specific product with its EQ profiles.",
        "operationId": "opra_product_opra_products__product_id__get",
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Product Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/eq/{eq_id}": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Eq Profile",
        "description": "Get a specific EQ profile with APO format preview.\n\nArgs:\n    eq_id: EQ profile ID\n    apply_correction: If True, apply Modern Target (KB5000_7) correction",
        "operationId": "opra_eq_profile_opra_eq__eq_id__get",
        "parameters": [
          {
            "name": "eq_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Eq Id"
            }
          },
          {
            "name": "apply_correction",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Apply Correction"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraEqResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/apply/{eq_id}": {
      "post": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Apply Eq",
        "description": "Apply an OPRA EQ profile.\nConverts to APO format, saves to data/EQ, and activates.\n\nArgs:\n    eq_id: EQ profile ID\n    apply_correction: If True, apply Modern Target (KB5000_7) correction",
        "operationId": "opra_apply_eq_opra_apply__eq_id__post",
        "parameters": [
          {
            "name": "eq_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Eq Id"
            }
          },
          {
            "name": "apply_correction",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Apply Correction"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/state": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Dac State",
        "description": "Fetch current DAC runtime state from the daemon.",
        "operationId": "get_dac_state_dac_state_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacDaemonState"
                }
              }
            }
          }
        }
      }
    },
    "/dac/capabilities": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Dac Capabilities",
        "description": "Get DAC capabilities for the specified device.\n\nReturns supported sample rates, channel count, and other hardware info.\nResults are cached for 60 seconds.",
        "operationId": "get_dac_capabilities_dac_capabilities_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name (e.g., hw:0)",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name (e.g., hw:0)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacCapabilityResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/devices": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "List Dac Devices",
        "description": "List available DAC devices with their capabilities.\n\nReturns device list with basic info and supported rates.\nCapability scan is skipped for 'default' device.",
        "operationId": "list_dac_devices_dac_devices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacDevicesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dac/supported-rates": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Supported Rates",
        "description": "Get supported output rates for a specific rate family.\n\nUseful for filtering UI options based on DAC capabilities.\nOnly rates that belong to the specified family (44.1k multiples or 48k multiples)\nand are supported by the DAC are returned.",
        "operationId": "get_supported_rates_dac_supported_rates_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "family",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Rate family: '44k' or '48k'",
              "default": "44k",
              "title": "Family"
            },
            "description": "Rate family: '44k' or '48k'"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacSupportedRatesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/max-ratio": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Max Ratio",
        "description": "Get maximum upsampling ratio for a given input rate.\n\nReturns the highest ratio (1, 2, 4, 8, 16) that the DAC supports\nfor the specified input sample rate.",
        "operationId": "get_max_ratio_dac_max_ratio_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "input_rate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Input sample rate",
              "default": 44100,
              "title": "Input Rate"
            },
            "description": "Input sample rate"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacMaxRatioResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/validate-config": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Validate Dac Config",
        "description": "Validate if a DAC configuration is supported.\n\nChecks if the DAC supports the specified output rate and if the\nupsampling ratio is valid (1, 2, 4, 8, or 16).",
        "operationId": "validate_dac_config_dac_validate_config_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "input_rate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Input sample rate",
              "title": "Input Rate"
            },
            "description": "Input sample rate"
          },
          {
            "name": "output_rate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Output sample rate",
              "title": "Output Rate"
            },
            "description": "Output sample rate"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/select": {
      "post": {
        "tags": [
          "dac"
        ],
        "summary": "Select Runtime Dac",
        "description": "Ask the daemon to switch to a specific ALSA device.\n\nOptionally persist the selection to config.json.",
        "operationId": "select_runtime_dac_dac_select_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DacSelectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/rescan": {
      "post": {
        "tags": [
          "dac"
        ],
        "summary": "Rescan Runtime Dac",
        "description": "Trigger a DAC rescan on the daemon.",
        "operationId": "rescan_runtime_dac_dac_rescan_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/status": {
      "get": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Get Crossfeed Status",
        "description": "Get current crossfeed status.\n\nReturns:\n    CrossfeedStatus with enabled state, current head size, and available sizes.",
        "operationId": "get_crossfeed_status_crossfeed_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedStatus"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/enable": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Enable Crossfeed",
        "description": "Enable crossfeed (HRTF) processing.\n\nReturns:\n    Success response with confirmation message.",
        "operationId": "enable_crossfeed_crossfeed_enable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedEnableResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/disable": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Disable Crossfeed",
        "description": "Disable crossfeed processing.\n\nReturns:\n    Success response with confirmation message.",
        "operationId": "disable_crossfeed_crossfeed_disable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedDisableResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/size/{size}": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Set Crossfeed Size",
        "description": "Change crossfeed head size.\n\nArgs:\n    size: Head size to set ('xs', 's', 'm', 'l', or 'xl')\n\nReturns:\n    Success response with new head size.",
        "operationId": "set_crossfeed_size_crossfeed_size__size__post",
        "parameters": [
          {
            "name": "size",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedSizeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/rtp/sessions": {
      "get": {
        "tags": [
          "rtp"
        ],
        "summary": "List RTP sessions",
        "description": "Return cached RTP session telemetry.",
        "operationId": "list_sessions_api_rtp_sessions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RtpSessionListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "rtp"
        ],
        "summary": "Create RTP session",
        "description": "Create a new RTP session and start receiving packets.",
        "operationId": "create_session_api_rtp_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RtpSessionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RtpSessionCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/rtp/discover": {
      "get": {
        "tags": [
          "rtp"
        ],
        "summary": "Discover available RTP senders",
        "description": "Trigger a short-lived scan for available network RTP inputs.",
        "operationId": "discover_streams_api_rtp_discover_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RtpDiscoveryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/rtp/sessions/{session_id}": {
      "get": {
        "tags": [
          "rtp"
        ],
        "summary": "Get RTP session detail",
        "description": "Return telemetry for a single RTP session.",
        "operationId": "get_session_api_rtp_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[A-Za-z0-9._-]{1,64}$",
              "description": "RTP session identifier",
              "title": "Session Id"
            },
            "description": "RTP session identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RtpSessionDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "rtp"
        ],
        "summary": "Delete RTP session",
        "description": "Stop and remove an RTP session.",
        "operationId": "delete_session_api_rtp_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[A-Za-z0-9._-]{1,64}$",
              "description": "RTP session identifier",
              "title": "Session Id"
            },
            "description": "RTP session identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/partitioned-convolution": {
      "get": {
        "tags": [
          "partitioned"
        ],
        "summary": "Get partitioned convolution settings",
        "description": "Return the current low-latency partitioned convolution configuration stored in config.json.",
        "operationId": "get_partitioned_convolution_settings_partitioned_convolution_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartitionedConvolutionSettings"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      },
      "put": {
        "tags": [
          "partitioned"
        ],
        "summary": "Update partitioned convolution settings",
        "description": "Validate and persist low-latency partitioned convolution settings. Returns whether the daemon restart is required for changes to take effect.",
        "operationId": "update_partitioned_convolution_settings_partitioned_convolution_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartitionedConvolutionSettings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/input-mode/switch": {
      "post": {
        "tags": [
          "input-mode"
        ],
        "summary": "Switch Input Mode",
        "description": "Toggle PipeWire ⇄ RTP input modes.",
        "operationId": "switch_input_mode_api_input_mode_switch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InputModeSwitchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InputModeSwitchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/restart": {
      "post": {
        "tags": [
          "legacy"
        ],
        "summary": "Restart daemon (DEPRECATED)",
        "description": "**Deprecated**: Use `POST /daemon/restart` instead.",
        "operationId": "restart_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/admin": {
      "get": {
        "summary": "Admin Page",
        "description": "Serve the admin dashboard.",
        "operationId": "admin_page_admin_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/rtp": {
      "get": {
        "summary": "Rtp Page",
        "description": "Serve the RTP session management page.",
        "operationId": "rtp_page_rtp_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AlsaDevice": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "AlsaDevice",
        "description": "ALSA device info model."
      },
      "ApiResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "restart_required": {
            "type": "boolean",
            "title": "Restart Required",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "ApiResponse",
        "description": "Standard API response model for mutations."
      },
      "Body_import_eq_profile_eq_import_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_eq_profile_eq_import_post"
      },
      "Body_validate_eq_profile_eq_validate_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_validate_eq_profile_eq_validate_post"
      },
      "CrossfeedDisableResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "CrossfeedDisableResponse",
        "description": "Crossfeed disable response model."
      },
      "CrossfeedEnableResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "CrossfeedEnableResponse",
        "description": "Crossfeed enable response model."
      },
      "CrossfeedSettings": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "head_size": {
            "type": "string",
            "enum": [
              "s",
              "m",
              "l",
              "xl"
            ],
            "title": "Head Size",
            "default": "m"
          },
          "hrtf_path": {
            "type": "string",
            "title": "Hrtf Path",
            "default": "data/crossfeed/hrtf/"
          }
        },
        "type": "object",
        "title": "CrossfeedSettings",
        "description": "Crossfeed settings model."
      },
      "CrossfeedSettingsUpdate": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "head_size": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "s",
                  "m",
                  "l",
                  "xl"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Head Size"
          },
          "hrtf_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hrtf Path"
          }
        },
        "type": "object",
        "title": "CrossfeedSettingsUpdate",
        "description": "Crossfeed settings update model (all fields optional)."
      },
      "CrossfeedSizeResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "headSize": {
            "type": "string",
            "title": "Headsize"
          }
        },
        "type": "object",
        "required": [
          "success",
          "headSize"
        ],
        "title": "CrossfeedSizeResponse",
        "description": "Crossfeed size change response model."
      },
      "CrossfeedStatus": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether crossfeed is currently enabled"
          },
          "headSize": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headsize",
            "description": "Current head size: 'xs', 's', 'm', 'l', or 'xl'"
          },
          "availableSizes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Availablesizes",
            "description": "Available head size options"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "CrossfeedStatus",
        "description": "Crossfeed status response model."
      },
      "DacCapabilityInfo": {
        "properties": {
          "min_sample_rate": {
            "type": "integer",
            "title": "Min Sample Rate"
          },
          "max_sample_rate": {
            "type": "integer",
            "title": "Max Sample Rate"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels"
          }
        },
        "type": "object",
        "required": [
          "min_sample_rate",
          "max_sample_rate",
          "supported_rates",
          "max_channels"
        ],
        "title": "DacCapabilityInfo",
        "description": "DAC capability info for device list."
      },
      "DacCapabilityResponse": {
        "properties": {
          "device_name": {
            "type": "string",
            "title": "Device Name"
          },
          "min_sample_rate": {
            "type": "integer",
            "title": "Min Sample Rate"
          },
          "max_sample_rate": {
            "type": "integer",
            "title": "Max Sample Rate"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "device_name",
          "min_sample_rate",
          "max_sample_rate",
          "supported_rates",
          "max_channels",
          "is_valid"
        ],
        "title": "DacCapabilityResponse",
        "description": "DAC capability response model."
      },
      "DacCapabilitySnapshot": {
        "properties": {
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": false
          },
          "min_rate": {
            "type": "integer",
            "title": "Min Rate",
            "default": 0
          },
          "max_rate": {
            "type": "integer",
            "title": "Max Rate",
            "default": 0
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels",
            "default": 0
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "alsa_errno": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Errno"
          }
        },
        "type": "object",
        "title": "DacCapabilitySnapshot",
        "description": "Runtime DAC capability snapshot."
      },
      "DacDaemonDevice": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "card": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "is_requested": {
            "type": "boolean",
            "title": "Is Requested",
            "default": false
          },
          "is_selected": {
            "type": "boolean",
            "title": "Is Selected",
            "default": false
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "DacDaemonDevice",
        "description": "Runtime DAC device info reported by daemon."
      },
      "DacDaemonState": {
        "properties": {
          "requested_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requested Device"
          },
          "selected_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Device"
          },
          "active_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active Device"
          },
          "change_pending": {
            "type": "boolean",
            "title": "Change Pending",
            "default": false
          },
          "device_count": {
            "type": "integer",
            "title": "Device Count",
            "default": 0
          },
          "devices": {
            "items": {
              "$ref": "#/components/schemas/DacDaemonDevice"
            },
            "type": "array",
            "title": "Devices"
          },
          "capability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DacCapabilitySnapshot"
              },
              {
                "type": "null"
              }
            ]
          },
          "output_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Rate"
          },
          "last_event": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Event"
          }
        },
        "type": "object",
        "title": "DacDaemonState",
        "description": "Aggregated DAC state as reported by daemon."
      },
      "DacDeviceInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "capabilities": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DacCapabilityInfo"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "DacDeviceInfo",
        "description": "DAC device with capabilities."
      },
      "DacDevicesResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/DacDeviceInfo"
            },
            "type": "array",
            "title": "Devices"
          }
        },
        "type": "object",
        "required": [
          "devices"
        ],
        "title": "DacDevicesResponse",
        "description": "DAC devices list response model."
      },
      "DacMaxRatioResponse": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate"
          },
          "max_ratio": {
            "type": "integer",
            "title": "Max Ratio"
          },
          "max_output_rate": {
            "type": "integer",
            "title": "Max Output Rate"
          }
        },
        "type": "object",
        "required": [
          "device",
          "input_rate",
          "max_ratio",
          "max_output_rate"
        ],
        "title": "DacMaxRatioResponse",
        "description": "Maximum upsampling ratio response model."
      },
      "DacSelectRequest": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "device"
        ],
        "title": "DacSelectRequest",
        "description": "Request model for runtime DAC selection."
      },
      "DacSupportedRatesResponse": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "family": {
            "type": "string",
            "title": "Family",
            "description": "Rate family: '44k' or '48k'"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          }
        },
        "type": "object",
        "required": [
          "device",
          "family",
          "supported_rates"
        ],
        "title": "DacSupportedRatesResponse",
        "description": "Supported rates for a rate family response model."
      },
      "DaemonStatus": {
        "properties": {
          "running": {
            "type": "boolean",
            "title": "Running"
          },
          "pid": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pid"
          },
          "pid_file": {
            "type": "string",
            "title": "Pid File"
          },
          "binary_path": {
            "type": "string",
            "title": "Binary Path"
          },
          "pipewire_connected": {
            "type": "boolean",
            "title": "Pipewire Connected",
            "default": false
          },
          "input_mode": {
            "type": "string",
            "enum": [
              "pipewire",
              "rtp"
            ],
            "title": "Input Mode",
            "description": "Current input mode reported by config.json",
            "default": "pipewire"
          }
        },
        "type": "object",
        "required": [
          "running",
          "pid_file",
          "binary_path"
        ],
        "title": "DaemonStatus",
        "description": "Daemon status response model."
      },
      "DevicesResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/AlsaDevice"
            },
            "type": "array",
            "title": "Devices"
          }
        },
        "type": "object",
        "required": [
          "devices"
        ],
        "title": "DevicesResponse",
        "description": "Available ALSA devices response model."
      },
      "EqActiveResponse": {
        "properties": {
          "active": {
            "type": "boolean",
            "title": "Active"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "source_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Type"
          },
          "has_modern_target": {
            "type": "boolean",
            "title": "Has Modern Target",
            "default": false
          },
          "opra_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Opra Info"
          },
          "opra_filters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Opra Filters",
            "default": []
          },
          "original_filters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Original Filters",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "active"
        ],
        "title": "EqActiveResponse",
        "description": "Active EQ profile response model."
      },
      "EqProfileInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "modified": {
            "type": "number",
            "title": "Modified"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Profile type: 'opra' or 'custom'"
          },
          "filter_count": {
            "type": "integer",
            "title": "Filter Count"
          }
        },
        "type": "object",
        "required": [
          "name",
          "filename",
          "path",
          "size",
          "modified",
          "type",
          "filter_count"
        ],
        "title": "EqProfileInfo",
        "description": "EQ profile info model."
      },
      "EqProfilesResponse": {
        "properties": {
          "profiles": {
            "items": {
              "$ref": "#/components/schemas/EqProfileInfo"
            },
            "type": "array",
            "title": "Profiles"
          }
        },
        "type": "object",
        "required": [
          "profiles"
        ],
        "title": "EqProfilesResponse",
        "description": "EQ profiles list response model."
      },
      "EqTextImportRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Name"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Raw EQ profile text content"
          }
        },
        "type": "object",
        "required": [
          "name",
          "content"
        ],
        "title": "EqTextImportRequest",
        "description": "Request body for text-based EQ profile import."
      },
      "EqValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "default": []
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "default": []
          },
          "preamp_db": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preamp Db"
          },
          "filter_count": {
            "type": "integer",
            "title": "Filter Count",
            "default": 0
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_exists": {
            "type": "boolean",
            "title": "File Exists"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "recommended_preamp_db": {
            "type": "number",
            "title": "Recommended Preamp Db",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "valid",
          "filename",
          "file_exists",
          "size_bytes"
        ],
        "title": "EqValidationResponse",
        "description": "EQ profile validation response model."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InputModeSwitchRequest": {
        "properties": {
          "mode": {
            "type": "string",
            "enum": [
              "pipewire",
              "rtp"
            ],
            "title": "Mode",
            "description": "Target mode: 'pipewire' to use local PipeWire input or 'rtp' for network input"
          }
        },
        "type": "object",
        "required": [
          "mode"
        ],
        "title": "InputModeSwitchRequest",
        "description": "Request body for switching between PipeWire and RTP modes."
      },
      "InputModeSwitchResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "current_mode": {
            "type": "string",
            "enum": [
              "pipewire",
              "rtp"
            ],
            "title": "Current Mode",
            "description": "Mode currently active after the switch"
          },
          "restart_required": {
            "type": "boolean",
            "title": "Restart Required",
            "description": "True when the daemon was restarted to apply changes",
            "default": false
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "current_mode",
          "message"
        ],
        "title": "InputModeSwitchResponse",
        "description": "Response returned after attempting to switch input modes."
      },
      "OpraEqAttribution": {
        "properties": {
          "license": {
            "type": "string",
            "title": "License",
            "default": "CC BY-SA 4.0"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "default": "OPRA Project"
          },
          "author": {
            "type": "string",
            "title": "Author"
          }
        },
        "type": "object",
        "required": [
          "author"
        ],
        "title": "OpraEqAttribution",
        "description": "OPRA EQ attribution model."
      },
      "OpraEqResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "author": {
            "type": "string",
            "title": "Author"
          },
          "details": {
            "type": "string",
            "title": "Details"
          },
          "parameters": {
            "additionalProperties": true,
            "type": "object",
            "title": "Parameters",
            "default": {}
          },
          "apo_format": {
            "type": "string",
            "title": "Apo Format"
          },
          "modern_target_applied": {
            "type": "boolean",
            "title": "Modern Target Applied"
          },
          "attribution": {
            "$ref": "#/components/schemas/OpraEqAttribution"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "author",
          "details",
          "apo_format",
          "modern_target_applied",
          "attribution"
        ],
        "title": "OpraEqResponse",
        "description": "OPRA EQ profile response model."
      },
      "OpraSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Results"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "results",
          "count",
          "query"
        ],
        "title": "OpraSearchResponse",
        "description": "OPRA search results response model."
      },
      "OpraStats": {
        "properties": {
          "vendors": {
            "type": "integer",
            "title": "Vendors"
          },
          "products": {
            "type": "integer",
            "title": "Products"
          },
          "eq_profiles": {
            "type": "integer",
            "title": "Eq Profiles"
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "CC BY-SA 4.0"
          },
          "attribution": {
            "type": "string",
            "title": "Attribution",
            "default": "OPRA Project (https://github.com/opra-project/OPRA)"
          }
        },
        "type": "object",
        "required": [
          "vendors",
          "products",
          "eq_profiles"
        ],
        "title": "OpraStats",
        "description": "OPRA database statistics response model."
      },
      "OpraVendorsResponse": {
        "properties": {
          "vendors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Vendors"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "vendors",
          "count"
        ],
        "title": "OpraVendorsResponse",
        "description": "OPRA vendors list response model."
      },
      "PartitionedConvolutionSettings": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "fast_partition_taps": {
            "type": "integer",
            "maximum": 262144.0,
            "minimum": 1024.0,
            "title": "Fast Partition Taps",
            "default": 32768
          },
          "min_partition_taps": {
            "type": "integer",
            "maximum": 262144.0,
            "minimum": 1024.0,
            "title": "Min Partition Taps",
            "default": 32768
          },
          "max_partitions": {
            "type": "integer",
            "maximum": 32.0,
            "minimum": 1.0,
            "title": "Max Partitions",
            "default": 4
          },
          "tail_fft_multiple": {
            "type": "integer",
            "maximum": 16.0,
            "minimum": 2.0,
            "title": "Tail Fft Multiple",
            "default": 2
          }
        },
        "type": "object",
        "title": "PartitionedConvolutionSettings",
        "description": "Partitioned convolution (low latency) configuration."
      },
      "PeakLevels": {
        "properties": {
          "input": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "upsampler": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "post_mix": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "post_gain": {
            "$ref": "#/components/schemas/PeakStage"
          }
        },
        "type": "object",
        "title": "PeakLevels",
        "description": "Peak levels across pipeline stages."
      },
      "PeakStage": {
        "properties": {
          "linear": {
            "type": "number",
            "title": "Linear",
            "default": 0.0
          },
          "dbfs": {
            "type": "number",
            "title": "Dbfs",
            "default": -200.0
          }
        },
        "type": "object",
        "title": "PeakStage",
        "description": "Single stage peak measurement."
      },
      "PhaseTypeResponse": {
        "properties": {
          "phase_type": {
            "type": "string",
            "enum": [
              "minimum",
              "hybrid"
            ],
            "title": "Phase Type",
            "description": "Current phase type: 'minimum' or 'hybrid'"
          },
          "latency_warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Warning",
            "description": "Info/warning message for hybrid phase (10ms alignment above 100 Hz)"
          }
        },
        "type": "object",
        "required": [
          "phase_type"
        ],
        "title": "PhaseTypeResponse",
        "description": "Phase type response model."
      },
      "PhaseTypeUpdateRequest": {
        "properties": {
          "phase_type": {
            "type": "string",
            "enum": [
              "minimum",
              "hybrid"
            ],
            "title": "Phase Type",
            "description": "Target phase type: 'minimum' or 'hybrid'"
          }
        },
        "type": "object",
        "required": [
          "phase_type"
        ],
        "title": "PhaseTypeUpdateRequest",
        "description": "Phase type update request model."
      },
      "RewireRequest": {
        "properties": {
          "source_node": {
            "type": "string",
            "title": "Source Node"
          },
          "target_node": {
            "type": "string",
            "title": "Target Node"
          }
        },
        "type": "object",
        "required": [
          "source_node",
          "target_node"
        ],
        "title": "RewireRequest",
        "description": "Request model for rewiring PipeWire connections."
      },
      "RtpAdvancedSettings": {
        "properties": {
          "socket_buffer_bytes": {
            "type": "integer",
            "maximum": 4194304.0,
            "minimum": 65536.0,
            "title": "Socket Buffer Bytes",
            "description": "SO_RCVBUF size",
            "default": 1048576
          },
          "mtu_bytes": {
            "type": "integer",
            "maximum": 9000.0,
            "minimum": 256.0,
            "title": "Mtu Bytes",
            "description": "Expected MTU for incoming packets",
            "default": 1500
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpAdvancedSettings",
        "description": "Advanced buffer tuning for RTP reception."
      },
      "RtpDiscoveryResponse": {
        "properties": {
          "streams": {
            "items": {
              "$ref": "#/components/schemas/RtpDiscoveryStream"
            },
            "type": "array",
            "title": "Streams",
            "description": "List of discovered RTP senders"
          },
          "scanned_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scanned At Unix Ms",
            "description": "Unix timestamp (ms) when the scan completed"
          },
          "duration_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Ms",
            "description": "Approximate scan duration in milliseconds"
          }
        },
        "type": "object",
        "title": "RtpDiscoveryResponse",
        "description": "Response payload for RTP discovery scans."
      },
      "RtpDiscoveryStream": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Suggested session identifier"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name",
            "description": "Human-friendly label for the stream"
          },
          "source_host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Host",
            "description": "Source IPv4 host of the RTP sender"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1024.0,
            "title": "Port",
            "description": "RTP payload port reported by the scanner"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Scanner-reported status such as 'active', 'idle', or diagnostic text",
            "default": "unknown"
          },
          "existing_session": {
            "type": "boolean",
            "title": "Existing Session",
            "description": "True when this candidate already has an active RTP session",
            "default": false
          },
          "sample_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sample Rate",
            "description": "Sample rate hint to pre-fill new RTP sessions"
          },
          "channels": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channels",
            "description": "Channel count hint to pre-fill new RTP sessions"
          },
          "payload_type": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload Type",
            "description": "Dynamic payload type hint from scanner"
          },
          "multicast": {
            "type": "boolean",
            "title": "Multicast",
            "description": "True if the stream is multicast and requires group subscription",
            "default": false
          },
          "multicast_group": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast Group",
            "description": "Multicast group address when multicast is enabled"
          },
          "bind_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bind Address",
            "description": "Suggested local bind address for receiving the stream"
          },
          "last_seen_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen Unix Ms",
            "description": "Unix timestamp (ms) when the stream was last observed"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Estimated transport latency reported by scanner"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "display_name",
          "port"
        ],
        "title": "RtpDiscoveryStream",
        "description": "Single RTP stream candidate discovered by the daemon."
      },
      "RtpEndpointSettings": {
        "properties": {
          "bind_address": {
            "type": "string",
            "title": "Bind Address",
            "description": "IPv4 address to bind for RTP reception",
            "default": "0.0.0.0"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1024.0,
            "title": "Port",
            "description": "UDP port for RTP payloads",
            "default": 6000
          },
          "source_host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Host",
            "description": "Optional IPv4 address filter for incoming packets"
          },
          "multicast": {
            "type": "boolean",
            "title": "Multicast",
            "description": "Join multicast group",
            "default": false
          },
          "multicast_group": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast Group",
            "description": "Multicast group address when multicast is enabled"
          },
          "interface": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interface",
            "description": "Interface name or IPv4 address used for multicast subscription"
          },
          "ttl": {
            "type": "integer",
            "maximum": 255.0,
            "minimum": 1.0,
            "title": "Ttl",
            "description": "TTL for multicast/QoS traffic",
            "default": 32
          },
          "dscp": {
            "type": "integer",
            "maximum": 63.0,
            "minimum": -1.0,
            "title": "Dscp",
            "description": "DiffServ code point (-1 to disable)",
            "default": -1
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpEndpointSettings",
        "description": "Networking options for an RTP session."
      },
      "RtpFormatSettings": {
        "properties": {
          "sample_rate": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Sample Rate",
            "description": "Samples per second",
            "default": 48000
          },
          "channels": {
            "type": "integer",
            "maximum": 8.0,
            "minimum": 1.0,
            "title": "Channels",
            "description": "Channel count",
            "default": 2
          },
          "bits_per_sample": {
            "type": "integer",
            "enum": [
              16,
              24,
              32
            ],
            "title": "Bits Per Sample",
            "description": "PCM word size",
            "default": 24
          },
          "payload_type": {
            "type": "integer",
            "maximum": 127.0,
            "minimum": 0.0,
            "title": "Payload Type",
            "description": "Dynamic RTP payload type",
            "default": 97
          },
          "big_endian": {
            "type": "boolean",
            "title": "Big Endian",
            "description": "Endianness of PCM payload",
            "default": true
          },
          "signed_samples": {
            "type": "boolean",
            "title": "Signed Samples",
            "description": "True if PCM is signed",
            "default": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpFormatSettings",
        "description": "PCM payload description for RTP session."
      },
      "RtpRtcpSettings": {
        "properties": {
          "enable": {
            "type": "boolean",
            "title": "Enable",
            "description": "Enable RTCP listener",
            "default": true
          },
          "port": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 65535.0,
                "minimum": 1024.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Port",
            "description": "Explicit RTCP port (defaults to RTP port + 1)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpRtcpSettings",
        "description": "RTCP monitoring options."
      },
      "RtpSdpConfig": {
        "properties": {
          "body": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Body",
            "description": "Raw SDP string (overrides auto-generation when provided)"
          },
          "session_name": {
            "type": "string",
            "title": "Session Name",
            "description": "Session name for auto-generated SDP",
            "default": "MagicBox RTP Session"
          },
          "connection_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Connection Address",
            "description": "Override connection address for auto-generated SDP"
          },
          "media_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Format",
            "description": "Override rtpmap payload descriptor (e.g., 'L24/48000/2')"
          },
          "media_clock": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Clock",
            "description": "Optional mediaclk attribute for deterministic streams"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpSdpConfig",
        "description": "Optional SDP hints for RTP session creation."
      },
      "RtpSecurityConfig": {
        "properties": {
          "crypto_suite": {
            "type": "string",
            "enum": [
              "AES_CM_128_HMAC_SHA1_80",
              "AES_CM_128_HMAC_SHA1_32"
            ],
            "title": "Crypto Suite",
            "description": "SRTP crypto suite",
            "default": "AES_CM_128_HMAC_SHA1_80"
          },
          "key_base64": {
            "type": "string",
            "minLength": 40,
            "title": "Key Base64",
            "description": "Base64-encoded master key (per RFC 4568)"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "key_base64"
        ],
        "title": "RtpSecurityConfig",
        "description": "Optional SRTP parameters for SDP generation."
      },
      "RtpSessionConfigSnapshot": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "bind_address": {
            "type": "string",
            "title": "Bind Address"
          },
          "port": {
            "type": "integer",
            "title": "Port"
          },
          "source_host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Host"
          },
          "multicast": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast"
          },
          "multicast_group": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast Group"
          },
          "interface": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interface"
          },
          "ttl": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ttl"
          },
          "dscp": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dscp"
          },
          "sample_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sample Rate"
          },
          "channels": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channels"
          },
          "bits_per_sample": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bits Per Sample"
          },
          "big_endian": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Big Endian"
          },
          "signed": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signed"
          },
          "payload_type": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload Type"
          },
          "socket_buffer_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Socket Buffer Bytes"
          },
          "mtu_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mtu Bytes"
          },
          "target_latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Latency Ms"
          },
          "watchdog_timeout_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Watchdog Timeout Ms"
          },
          "telemetry_interval_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telemetry Interval Ms"
          },
          "enable_rtcp": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Rtcp"
          },
          "rtcp_port": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rtcp Port"
          },
          "enable_ptp": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Ptp"
          },
          "ptp_interface": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ptp Interface"
          },
          "ptp_domain": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ptp Domain"
          },
          "sdp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sdp"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "bind_address",
          "port"
        ],
        "title": "RtpSessionConfigSnapshot",
        "description": "Session configuration echoed by the daemon."
      },
      "RtpSessionCreateRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "pattern": "^[A-Za-z0-9._-]+$",
            "title": "Session Id",
            "description": "Unique identifier for the RTP session"
          },
          "endpoint": {
            "$ref": "#/components/schemas/RtpEndpointSettings",
            "description": "Endpoint and multicast configuration"
          },
          "format": {
            "$ref": "#/components/schemas/RtpFormatSettings",
            "description": "PCM payload description"
          },
          "sync": {
            "$ref": "#/components/schemas/RtpSyncSettings",
            "description": "Latency / sync parameters"
          },
          "rtcp": {
            "$ref": "#/components/schemas/RtpRtcpSettings",
            "description": "RTCP monitoring configuration"
          },
          "advanced": {
            "$ref": "#/components/schemas/RtpAdvancedSettings",
            "description": "Advanced socket / MTU settings"
          },
          "sdp": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RtpSdpConfig"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional SDP override"
          },
          "security": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RtpSecurityConfig"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional SRTP settings"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "session_id"
        ],
        "title": "RtpSessionCreateRequest",
        "description": "Request body for creating a new RTP session."
      },
      "RtpSessionCreateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "True when the session is created",
            "default": true
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "RTP session started"
          },
          "session": {
            "$ref": "#/components/schemas/RtpSessionConfigSnapshot",
            "description": "Normalized SessionConfig echoed by the daemon"
          }
        },
        "type": "object",
        "required": [
          "session"
        ],
        "title": "RtpSessionCreateResponse",
        "description": "Response returned when an RTP session is created."
      },
      "RtpSessionDetailResponse": {
        "properties": {
          "session": {
            "$ref": "#/components/schemas/RtpSessionMetrics"
          },
          "polled_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Polled At Unix Ms"
          }
        },
        "type": "object",
        "required": [
          "session"
        ],
        "title": "RtpSessionDetailResponse",
        "description": "Response for GET /api/rtp/sessions/{id}."
      },
      "RtpSessionListResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/RtpSessionMetrics"
            },
            "type": "array",
            "title": "Sessions"
          },
          "polled_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Polled At Unix Ms"
          }
        },
        "type": "object",
        "required": [
          "sessions"
        ],
        "title": "RtpSessionListResponse",
        "description": "Response for GET /api/rtp/sessions."
      },
      "RtpSessionMetrics": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "bind_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bind Address"
          },
          "port": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Port"
          },
          "source_host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Host"
          },
          "multicast": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast"
          },
          "multicast_group": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Multicast Group"
          },
          "interface": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interface"
          },
          "payload_type": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload Type"
          },
          "channels": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Channels"
          },
          "bits_per_sample": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bits Per Sample"
          },
          "big_endian": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Big Endian"
          },
          "signed": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signed"
          },
          "enable_rtcp": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Rtcp"
          },
          "rtcp_port": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rtcp Port"
          },
          "enable_ptp": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Ptp"
          },
          "target_latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Latency Ms"
          },
          "watchdog_timeout_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Watchdog Timeout Ms"
          },
          "telemetry_interval_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telemetry Interval Ms"
          },
          "auto_start": {
            "type": "boolean",
            "title": "Auto Start",
            "default": false
          },
          "ssrc": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ssrc"
          },
          "ssrc_locked": {
            "type": "boolean",
            "title": "Ssrc Locked",
            "default": false
          },
          "packets_received": {
            "type": "integer",
            "title": "Packets Received",
            "default": 0
          },
          "packets_dropped": {
            "type": "integer",
            "title": "Packets Dropped",
            "default": 0
          },
          "sequence_resets": {
            "type": "integer",
            "title": "Sequence Resets",
            "default": 0
          },
          "bytes_received": {
            "type": "integer",
            "title": "Bytes Received",
            "default": 0
          },
          "rtcp_packets": {
            "type": "integer",
            "title": "Rtcp Packets",
            "default": 0
          },
          "late_packets": {
            "type": "integer",
            "title": "Late Packets",
            "default": 0
          },
          "avg_transit_usec": {
            "type": "number",
            "title": "Avg Transit Usec",
            "default": 0.0
          },
          "network_jitter_usec": {
            "type": "number",
            "title": "Network Jitter Usec",
            "default": 0.0
          },
          "ptp_offset_ns": {
            "type": "number",
            "title": "Ptp Offset Ns",
            "default": 0.0
          },
          "ptp_mean_path_ns": {
            "type": "number",
            "title": "Ptp Mean Path Ns",
            "default": 0.0
          },
          "ptp_locked": {
            "type": "boolean",
            "title": "Ptp Locked",
            "default": false
          },
          "sample_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sample Rate"
          },
          "last_rtp_timestamp": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Rtp Timestamp"
          },
          "last_packet_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Packet Unix Ms"
          },
          "updated_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At Unix Ms",
            "description": "Timestamp (ms) when telemetry was sampled"
          }
        },
        "type": "object",
        "required": [
          "session_id"
        ],
        "title": "RtpSessionMetrics",
        "description": "Live RTP telemetry reported by the daemon."
      },
      "RtpSyncSettings": {
        "properties": {
          "target_latency_ms": {
            "type": "integer",
            "maximum": 5000.0,
            "minimum": 1.0,
            "title": "Target Latency Ms",
            "description": "Target buffering latency in milliseconds",
            "default": 5
          },
          "watchdog_timeout_ms": {
            "type": "integer",
            "maximum": 60000.0,
            "minimum": 100.0,
            "title": "Watchdog Timeout Ms",
            "description": "Watchdog timeout used for gap detection",
            "default": 500
          },
          "telemetry_interval_ms": {
            "type": "integer",
            "maximum": 60000.0,
            "minimum": 100.0,
            "title": "Telemetry Interval Ms",
            "description": "Interval for telemetry emission",
            "default": 1000
          },
          "enable_ptp": {
            "type": "boolean",
            "title": "Enable Ptp",
            "description": "Enable PTP clock tracking",
            "default": false
          },
          "ptp_interface": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ptp Interface",
            "description": "PTP network interface name"
          },
          "ptp_domain": {
            "type": "integer",
            "title": "Ptp Domain",
            "description": "PTP domain number (defaults to 0)",
            "default": 0
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "RtpSyncSettings",
        "description": "Latency and synchronization settings."
      },
      "Settings": {
        "properties": {
          "alsa_device": {
            "type": "string",
            "title": "Alsa Device",
            "default": "default"
          },
          "upsample_ratio": {
            "type": "integer",
            "title": "Upsample Ratio",
            "default": 8
          },
          "eq_enabled": {
            "type": "boolean",
            "title": "Eq Enabled",
            "default": false
          },
          "eq_profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile"
          },
          "eq_profile_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile Path"
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate",
            "default": 44100
          },
          "output_rate": {
            "type": "integer",
            "title": "Output Rate",
            "default": 352800
          },
          "crossfeed": {
            "$ref": "#/components/schemas/CrossfeedSettings"
          },
          "rtp_enabled": {
            "type": "boolean",
            "title": "Rtp Enabled",
            "default": false
          }
        },
        "type": "object",
        "title": "Settings",
        "description": "Application settings model."
      },
      "SettingsUpdate": {
        "properties": {
          "alsa_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Device"
          },
          "upsample_ratio": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upsample Ratio"
          },
          "eq_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Enabled"
          },
          "eq_profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile"
          },
          "eq_profile_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile Path"
          },
          "input_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Rate"
          },
          "output_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Rate"
          },
          "crossfeed": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CrossfeedSettingsUpdate"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "SettingsUpdate",
        "description": "Settings update request model."
      },
      "Status": {
        "properties": {
          "settings": {
            "$ref": "#/components/schemas/Settings"
          },
          "pipewire_connected": {
            "type": "boolean",
            "title": "Pipewire Connected",
            "default": false
          },
          "alsa_connected": {
            "type": "boolean",
            "title": "Alsa Connected",
            "default": false
          },
          "clip_count": {
            "type": "integer",
            "title": "Clip Count",
            "default": 0
          },
          "total_samples": {
            "type": "integer",
            "title": "Total Samples",
            "default": 0
          },
          "clip_rate": {
            "type": "number",
            "title": "Clip Rate",
            "default": 0.0
          },
          "daemon_running": {
            "type": "boolean",
            "title": "Daemon Running",
            "default": false
          },
          "eq_active": {
            "type": "boolean",
            "title": "Eq Active",
            "default": false
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate",
            "default": 0
          },
          "output_rate": {
            "type": "integer",
            "title": "Output Rate",
            "default": 0
          },
          "peaks": {
            "$ref": "#/components/schemas/PeakLevels"
          },
          "input_mode": {
            "type": "string",
            "enum": [
              "pipewire",
              "rtp"
            ],
            "title": "Input Mode",
            "description": "Current input mode reported by config.json",
            "default": "pipewire"
          }
        },
        "type": "object",
        "required": [
          "settings"
        ],
        "title": "Status",
        "description": "System status response model."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ZmqPingResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "response": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Response"
          },
          "daemon_running": {
            "type": "boolean",
            "title": "Daemon Running"
          }
        },
        "type": "object",
        "required": [
          "success",
          "daemon_running"
        ],
        "title": "ZmqPingResponse",
        "description": "ZeroMQ ping response model."
      }
    }
  },
  "tags": [
    {
      "name": "status",
      "description": "System status and settings management"
    },
    {
      "name": "daemon",
      "description": "Audio daemon lifecycle and ZeroMQ communication"
    },
    {
      "name": "eq",
      "description": "EQ profile management (import, activate, delete)"
    },
    {
      "name": "opra",
      "description": "OPRA headphone database integration (CC BY-SA 4.0)"
    },
    {
      "name": "dac",
      "description": "DAC capability detection and sample rate filtering"
    },
    {
      "name": "crossfeed",
      "description": "Crossfeed (HRTF-based headphone virtualization) control"
    },
    {
      "name": "rtp",
      "description": "RTP session lifecycle management and telemetry"
    },
    {
      "name": "input-mode",
      "description": "Switch between PipeWire and RTP input sources"
    },
    {
      "name": "legacy",
      "description": "Deprecated endpoints - use alternatives instead"
    }
  ]
}
