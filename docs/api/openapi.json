{
  "openapi": "3.1.0",
  "info": {
    "title": "GPU Upsampler Control",
    "description": "\n## GPU Audio Upsampler Web API\n\nControl interface for the GPU-accelerated audio upsampler daemon.\n\n### Features\n- **Daemon Control**: Start/stop/restart the audio processing daemon\n- **EQ Management**: Import and manage EQ profiles (AutoEq/Equalizer APO format)\n- **OPRA Integration**: Access the OPRA headphone EQ database\n- **Real-time Stats**: WebSocket endpoint for live statistics\n\n### Authentication\nMost endpoints do not require authentication (local network only).\n    ",
    "version": "1.0.0"
  },
  "paths": {
    "/status": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Status",
        "description": "Get current system status.",
        "operationId": "get_status_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Status"
                }
              }
            }
          }
        }
      }
    },
    "/settings": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Update Settings",
        "description": "Update application settings.",
        "operationId": "update_settings_settings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SettingsUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/devices": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "List Devices",
        "description": "List available ALSA devices.",
        "operationId": "list_devices_devices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DevicesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/i2s/peer-status": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Peer Status",
        "description": "Get latest reported peer status (best-effort).",
        "operationId": "get_peer_status_i2s_peer_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/I2sPeerStatus"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Post Peer Status",
        "description": "Accept peer status report.\n\nIMPORTANT:\n- 受け取っただけでは daemon 再起動等は行わない（ループ防止）\n- generation / updated_at_unix_ms が古い更新は無視する（stale対策）",
        "operationId": "post_peer_status_i2s_peer_status_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/I2sPeerStatusUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/start": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Start",
        "description": "Start the daemon.",
        "operationId": "daemon_start_daemon_start_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/stop": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Stop",
        "description": "Stop the daemon.",
        "operationId": "daemon_stop_daemon_stop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/restart": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Restart",
        "description": "Restart the daemon.",
        "operationId": "daemon_restart_daemon_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/status": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Daemon Status",
        "description": "Get daemon running status (minimal).",
        "operationId": "daemon_status_daemon_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DaemonStatus"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/zmq/ping": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Zmq Ping",
        "description": "Ping the daemon via ZeroMQ.",
        "operationId": "zmq_ping_daemon_zmq_ping_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ZmqPingResponse"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/zmq/command/{cmd}": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Zmq Command",
        "description": "Send arbitrary command to daemon via ZeroMQ.",
        "operationId": "zmq_command_daemon_zmq_command__cmd__post",
        "parameters": [
          {
            "name": "cmd",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Cmd"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/phase-type": {
      "get": {
        "tags": [
          "daemon"
        ],
        "summary": "Get Phase Type",
        "description": "Get current phase type from daemon.\n\nReturns the current filter phase type (minimum or linear).\nLinear phase provides constant group delay across all frequencies but introduces high latency (~0.45s @ 705.6kHz).",
        "operationId": "get_phase_type_daemon_phase_type_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhaseTypeResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "daemon"
        ],
        "summary": "Set Phase Type",
        "description": "Set phase type on daemon.\n\nAll filter variants (min/linear × rate families) are preloaded by default, so changes take effect immediately without daemon restart.\n\n- minimum: Minimum phase filter (recommended, no pre-ringing)\n- linear: Linear phase filter (constant group delay across all frequencies, high latency ~0.45s @ 705.6kHz)",
        "operationId": "set_phase_type_daemon_phase_type_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhaseTypeUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/daemon/restart-full": {
      "post": {
        "tags": [
          "daemon"
        ],
        "summary": "Reload Daemon",
        "description": "Restart daemon with updated configuration.\n\nThis is called after settings changes that require a daemon restart\n(e.g., sample rate changes, EQ profile changes).",
        "operationId": "reload_daemon_daemon_restart_full_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/eq/profiles": {
      "get": {
        "tags": [
          "eq"
        ],
        "summary": "List Eq Profiles",
        "description": "List available EQ profiles in data/EQ directory.\nReturns extended info including file size and profile type.",
        "operationId": "list_eq_profiles_eq_profiles_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqProfilesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/eq/validate": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Validate Eq Profile",
        "description": "Validate an EQ profile file before importing.\nChecks format, parameter ranges, and security constraints.\nDoes not save the file.",
        "operationId": "validate_eq_profile_eq_validate_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_validate_eq_profile_eq_validate_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqValidationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/import": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Import Eq Profile",
        "description": "Import an EQ profile file (AutoEq/Equalizer APO format).\n\nSecurity features:\n- File size limit (1MB)\n- Filename sanitization (path traversal prevention)\n- Content validation (format, parameter ranges)\n- Overwrite protection (requires explicit flag)",
        "operationId": "import_eq_profile_eq_import_post",
        "parameters": [
          {
            "name": "overwrite",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Overwrite"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_eq_profile_eq_import_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/import-text": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Import Eq Text",
        "description": "Import an EQ profile from raw text pasted via the API.\n\nMirrors the same validation and overwrite safeguards as file uploads.",
        "operationId": "import_eq_text_eq_import_text_post",
        "parameters": [
          {
            "name": "overwrite",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Overwrite"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EqTextImportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/activate/{name}": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Activate Eq Profile",
        "description": "Activate an EQ profile by name.",
        "operationId": "activate_eq_profile_eq_activate__name__post",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/deactivate": {
      "post": {
        "tags": [
          "eq"
        ],
        "summary": "Deactivate Eq",
        "description": "Deactivate current EQ profile.",
        "operationId": "deactivate_eq_eq_deactivate_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/eq/profiles/{name}": {
      "delete": {
        "tags": [
          "eq"
        ],
        "summary": "Delete Eq Profile",
        "description": "Delete an EQ profile.",
        "operationId": "delete_eq_profile_eq_profiles__name__delete",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq/active": {
      "get": {
        "tags": [
          "eq"
        ],
        "summary": "Get Active Eq",
        "description": "Get the currently active EQ profile with parsed content.",
        "operationId": "get_active_eq_eq_active_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EqActiveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/opra/stats": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Stats",
        "description": "Get OPRA database statistics.",
        "operationId": "opra_stats_opra_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraStats"
                }
              }
            }
          }
        }
      }
    },
    "/opra/vendors": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Vendors",
        "description": "List all vendors in OPRA database.",
        "operationId": "opra_vendors_opra_vendors_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraVendorsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/opra/search": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Search",
        "description": "Search headphones by name.\nReturns products with embedded vendor info and EQ profiles.",
        "operationId": "opra_search_opra_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "",
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/products/{product_id}": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Product",
        "description": "Get a specific product with its EQ profiles.",
        "operationId": "opra_product_opra_products__product_id__get",
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Product Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/eq/{eq_id}": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Eq Profile",
        "description": "Get a specific EQ profile with APO format preview.\n\nArgs:\n    eq_id: EQ profile ID\n    apply_correction: If True, apply Modern Target (KB5000_7) correction",
        "operationId": "opra_eq_profile_opra_eq__eq_id__get",
        "parameters": [
          {
            "name": "eq_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Eq Id"
            }
          },
          {
            "name": "apply_correction",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Apply Correction"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraEqResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opra/apply/{eq_id}": {
      "post": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Apply Eq",
        "description": "Apply an OPRA EQ profile.\nConverts to APO format, saves to data/EQ, and activates.\n\nArgs:\n    eq_id: EQ profile ID\n    apply_correction: If True, apply Modern Target (KB5000_7) correction",
        "operationId": "opra_apply_eq_opra_apply__eq_id__post",
        "parameters": [
          {
            "name": "eq_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Eq Id"
            }
          },
          {
            "name": "apply_correction",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Apply Correction"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/opra/sync/status": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Sync Status",
        "description": "Return current OPRA sync status.",
        "operationId": "opra_sync_status_api_opra_sync_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSyncStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/opra/sync/available": {
      "get": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Sync Available",
        "description": "Check available OPRA updates for the given source.",
        "operationId": "opra_sync_available_api_opra_sync_available_get",
        "parameters": [
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "github_raw",
              "title": "Source"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSyncAvailableResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/opra/sync/update": {
      "post": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Sync Update",
        "description": "Kick off OPRA sync update in background.",
        "operationId": "opra_sync_update_api_opra_sync_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpraSyncUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSyncJobResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/opra/sync/rollback": {
      "post": {
        "tags": [
          "opra"
        ],
        "summary": "Opra Sync Rollback",
        "description": "Rollback to the previous OPRA version.",
        "operationId": "opra_sync_rollback_api_opra_sync_rollback_post",
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpraSyncJobResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dac/state": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Dac State",
        "description": "Fetch current DAC runtime state from the daemon.",
        "operationId": "get_dac_state_dac_state_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacDaemonState"
                }
              }
            }
          }
        }
      }
    },
    "/dac/capabilities": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Dac Capabilities",
        "description": "Get DAC capabilities for the specified device.\n\nReturns supported sample rates, channel count, and other hardware info.\nResults are cached for 60 seconds.",
        "operationId": "get_dac_capabilities_dac_capabilities_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name (e.g., hw:0)",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name (e.g., hw:0)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacCapabilityResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/devices": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "List Dac Devices",
        "description": "List available DAC devices with their capabilities.\n\nReturns device list with basic info and supported rates.\nCapability scan is skipped for 'default' device.",
        "operationId": "list_dac_devices_dac_devices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacDevicesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dac/supported-rates": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Supported Rates",
        "description": "Get supported output rates for a specific rate family.\n\nUseful for filtering UI options based on DAC capabilities.\nOnly rates that belong to the specified family (44.1k multiples or 48k multiples)\nand are supported by the DAC are returned.",
        "operationId": "get_supported_rates_dac_supported_rates_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "family",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Rate family: '44k' or '48k'",
              "default": "44k",
              "title": "Family"
            },
            "description": "Rate family: '44k' or '48k'"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacSupportedRatesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/max-ratio": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Get Max Ratio",
        "description": "Get maximum upsampling ratio for a given input rate.\n\nReturns the highest ratio (1, 2, 4, 8, 16) that the DAC supports\nfor the specified input sample rate.",
        "operationId": "get_max_ratio_dac_max_ratio_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "default": "default",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "input_rate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Input sample rate",
              "default": 44100,
              "title": "Input Rate"
            },
            "description": "Input sample rate"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DacMaxRatioResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/validate-config": {
      "get": {
        "tags": [
          "dac"
        ],
        "summary": "Validate Dac Config",
        "description": "Validate if a DAC configuration is supported.\n\nChecks if the DAC supports the specified output rate and if the\nupsampling ratio is valid (1, 2, 4, 8, or 16).",
        "operationId": "validate_dac_config_dac_validate_config_get",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ALSA device name",
              "title": "Device"
            },
            "description": "ALSA device name"
          },
          {
            "name": "input_rate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Input sample rate",
              "title": "Input Rate"
            },
            "description": "Input sample rate"
          },
          {
            "name": "output_rate",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Output sample rate",
              "title": "Output Rate"
            },
            "description": "Output sample rate"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/select": {
      "post": {
        "tags": [
          "dac"
        ],
        "summary": "Select Runtime Dac",
        "description": "Ask the daemon to switch to a specific ALSA device.\n\nOptionally persist the selection to config.json.",
        "operationId": "select_runtime_dac_dac_select_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DacSelectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dac/rescan": {
      "post": {
        "tags": [
          "dac"
        ],
        "summary": "Rescan Runtime Dac",
        "description": "Trigger a DAC rescan on the daemon.",
        "operationId": "rescan_runtime_dac_dac_rescan_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/status": {
      "get": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Get Crossfeed Status",
        "description": "Get current crossfeed status.\n\nReturns:\n    CrossfeedStatus with enabled state, current head size, and available sizes.",
        "operationId": "get_crossfeed_status_crossfeed_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedStatus"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/enable": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Enable Crossfeed",
        "description": "Enable crossfeed (HRTF) processing.\n\nReturns:\n    Success response with confirmation message.",
        "operationId": "enable_crossfeed_crossfeed_enable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedEnableResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/disable": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Disable Crossfeed",
        "description": "Disable crossfeed processing.\n\nReturns:\n    Success response with confirmation message.",
        "operationId": "disable_crossfeed_crossfeed_disable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedDisableResponse"
                }
              }
            }
          }
        }
      }
    },
    "/crossfeed/size/{size}": {
      "post": {
        "tags": [
          "crossfeed"
        ],
        "summary": "Set Crossfeed Size",
        "description": "Change crossfeed head size.\n\nArgs:\n    size: Head size to set ('xs', 's', 'm', 'l', or 'xl')\n\nReturns:\n    Success response with new head size.",
        "operationId": "set_crossfeed_size_crossfeed_size__size__post",
        "parameters": [
          {
            "name": "size",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrossfeedSizeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/delimiter/status": {
      "get": {
        "tags": [
          "delimiter"
        ],
        "summary": "Get Delimiter Status",
        "description": "Get current De-limiter status.",
        "operationId": "get_delimiter_status_delimiter_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelimiterStatus"
                }
              }
            }
          }
        }
      }
    },
    "/delimiter/enable": {
      "post": {
        "tags": [
          "delimiter"
        ],
        "summary": "Enable Delimiter",
        "description": "Enable De-limiter processing.",
        "operationId": "enable_delimiter_delimiter_enable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelimiterActionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/delimiter/disable": {
      "post": {
        "tags": [
          "delimiter"
        ],
        "summary": "Disable Delimiter",
        "description": "Disable De-limiter processing.",
        "operationId": "disable_delimiter_delimiter_disable_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DelimiterActionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/partitioned-convolution": {
      "get": {
        "tags": [
          "partitioned"
        ],
        "summary": "Get partitioned convolution settings",
        "description": "Return the current low-latency partitioned convolution configuration stored in config.json.",
        "operationId": "get_partitioned_convolution_settings_partitioned_convolution_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PartitionedConvolutionSettings"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      },
      "put": {
        "tags": [
          "partitioned"
        ],
        "summary": "Update partitioned convolution settings",
        "description": "Validate and persist low-latency partitioned convolution settings. Returns whether the daemon restart is required for changes to take effect.",
        "operationId": "update_partitioned_convolution_settings_partitioned_convolution_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartitionedConvolutionSettings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/output/mode": {
      "get": {
        "tags": [
          "output"
        ],
        "summary": "Get current output mode",
        "description": "Return current output mode and available modes.",
        "operationId": "get_output_mode_api_output_mode_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputModeResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "output"
        ],
        "summary": "Update output mode and options",
        "description": "Update output mode and USB preferred device.",
        "operationId": "update_output_mode_api_output_mode_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutputModeUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/pi/status": {
      "get": {
        "tags": [
          "pi"
        ],
        "summary": "Piステータス取得",
        "description": "Pi control API からステータスを取得する.",
        "operationId": "pi_status_pi_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PiStatus"
                }
              }
            }
          }
        }
      }
    },
    "/pi/config": {
      "get": {
        "tags": [
          "pi"
        ],
        "summary": "Pi設定取得",
        "description": "Pi control API から設定を取得する.",
        "operationId": "pi_config_pi_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PiUsbI2sConfig"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "pi"
        ],
        "summary": "Pi設定更新",
        "description": "Pi control API へ設定更新を転送する.",
        "operationId": "pi_config_update_pi_config_put",
        "parameters": [
          {
            "name": "apply",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Apply changes by restarting the bridge",
              "default": true,
              "title": "Apply"
            },
            "description": "Apply changes by restarting the bridge"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PiUsbI2sConfigUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PiUsbI2sConfig"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/pi/actions/restart": {
      "post": {
        "tags": [
          "pi"
        ],
        "summary": "Piブリッジ再起動",
        "description": "Pi 側 USB-I2S ブリッジを再起動する.",
        "operationId": "pi_restart_bridge_pi_actions_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/restart": {
      "post": {
        "tags": [
          "legacy"
        ],
        "summary": "Restart daemon (DEPRECATED)",
        "description": "**Deprecated**: Use `POST /daemon/restart` instead.",
        "operationId": "restart_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/": {
      "get": {
        "summary": "Dashboard Page",
        "description": "Serve the Dashboard page.",
        "operationId": "dashboard_page__get",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Lang"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/eq": {
      "get": {
        "summary": "Eq Page",
        "description": "Serve the EQ Settings page.",
        "operationId": "eq_page_eq_get",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Lang"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/system": {
      "get": {
        "summary": "System Page",
        "description": "Serve the System page.",
        "operationId": "system_page_system_get",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Lang"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/pi": {
      "get": {
        "summary": "Pi Page",
        "description": "Serve the Pi Settings page.",
        "operationId": "pi_page_pi_get",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Lang"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AlsaDevice": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "AlsaDevice",
        "description": "ALSA device info model."
      },
      "ApiResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "restart_required": {
            "type": "boolean",
            "title": "Restart Required",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "ApiResponse",
        "description": "Standard API response model for mutations."
      },
      "Body_import_eq_profile_eq_import_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_eq_profile_eq_import_post"
      },
      "Body_validate_eq_profile_eq_validate_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_validate_eq_profile_eq_validate_post"
      },
      "CrossfeedDisableResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "CrossfeedDisableResponse",
        "description": "Crossfeed disable response model."
      },
      "CrossfeedEnableResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "CrossfeedEnableResponse",
        "description": "Crossfeed enable response model."
      },
      "CrossfeedSettings": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "head_size": {
            "type": "string",
            "enum": [
              "xs",
              "s",
              "m",
              "l",
              "xl"
            ],
            "title": "Head Size",
            "default": "m"
          },
          "hrtf_path": {
            "type": "string",
            "title": "Hrtf Path",
            "default": "data/crossfeed/hrtf/"
          }
        },
        "type": "object",
        "title": "CrossfeedSettings",
        "description": "Crossfeed settings model."
      },
      "CrossfeedSettingsUpdate": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "head_size": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "xs",
                  "s",
                  "m",
                  "l",
                  "xl"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Head Size"
          },
          "hrtf_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hrtf Path"
          }
        },
        "type": "object",
        "title": "CrossfeedSettingsUpdate",
        "description": "Crossfeed settings update model (all fields optional)."
      },
      "CrossfeedSizeResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "headSize": {
            "type": "string",
            "title": "Headsize"
          }
        },
        "type": "object",
        "required": [
          "success",
          "headSize"
        ],
        "title": "CrossfeedSizeResponse",
        "description": "Crossfeed size change response model."
      },
      "CrossfeedStatus": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether crossfeed is currently enabled"
          },
          "headSize": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headsize",
            "description": "Current head size: 'xs', 's', 'm', 'l', or 'xl'"
          },
          "availableSizes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Availablesizes",
            "description": "Available head size options"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "CrossfeedStatus",
        "description": "Crossfeed status response model."
      },
      "DacCapabilityInfo": {
        "properties": {
          "min_sample_rate": {
            "type": "integer",
            "title": "Min Sample Rate"
          },
          "max_sample_rate": {
            "type": "integer",
            "title": "Max Sample Rate"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels"
          }
        },
        "type": "object",
        "required": [
          "min_sample_rate",
          "max_sample_rate",
          "supported_rates",
          "max_channels"
        ],
        "title": "DacCapabilityInfo",
        "description": "DAC capability info for device list."
      },
      "DacCapabilityResponse": {
        "properties": {
          "device_name": {
            "type": "string",
            "title": "Device Name"
          },
          "min_sample_rate": {
            "type": "integer",
            "title": "Min Sample Rate"
          },
          "max_sample_rate": {
            "type": "integer",
            "title": "Max Sample Rate"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "device_name",
          "min_sample_rate",
          "max_sample_rate",
          "supported_rates",
          "max_channels",
          "is_valid"
        ],
        "title": "DacCapabilityResponse",
        "description": "DAC capability response model."
      },
      "DacCapabilitySnapshot": {
        "properties": {
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": false
          },
          "min_rate": {
            "type": "integer",
            "title": "Min Rate",
            "default": 0
          },
          "max_rate": {
            "type": "integer",
            "title": "Max Rate",
            "default": 0
          },
          "max_channels": {
            "type": "integer",
            "title": "Max Channels",
            "default": 0
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "alsa_errno": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Errno"
          }
        },
        "type": "object",
        "title": "DacCapabilitySnapshot",
        "description": "Runtime DAC capability snapshot."
      },
      "DacDaemonDevice": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "card": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "is_requested": {
            "type": "boolean",
            "title": "Is Requested",
            "default": false
          },
          "is_selected": {
            "type": "boolean",
            "title": "Is Selected",
            "default": false
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "DacDaemonDevice",
        "description": "Runtime DAC device info reported by daemon."
      },
      "DacDaemonState": {
        "properties": {
          "requested_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requested Device"
          },
          "selected_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Device"
          },
          "active_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Active Device"
          },
          "change_pending": {
            "type": "boolean",
            "title": "Change Pending",
            "default": false
          },
          "device_count": {
            "type": "integer",
            "title": "Device Count",
            "default": 0
          },
          "devices": {
            "items": {
              "$ref": "#/components/schemas/DacDaemonDevice"
            },
            "type": "array",
            "title": "Devices"
          },
          "capability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DacCapabilitySnapshot"
              },
              {
                "type": "null"
              }
            ]
          },
          "output_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Rate"
          },
          "last_event": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Event"
          }
        },
        "type": "object",
        "title": "DacDaemonState",
        "description": "Aggregated DAC state as reported by daemon."
      },
      "DacDeviceInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "capabilities": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DacCapabilityInfo"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "DacDeviceInfo",
        "description": "DAC device with capabilities."
      },
      "DacDevicesResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/DacDeviceInfo"
            },
            "type": "array",
            "title": "Devices"
          }
        },
        "type": "object",
        "required": [
          "devices"
        ],
        "title": "DacDevicesResponse",
        "description": "DAC devices list response model."
      },
      "DacMaxRatioResponse": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate"
          },
          "max_ratio": {
            "type": "integer",
            "title": "Max Ratio"
          },
          "max_output_rate": {
            "type": "integer",
            "title": "Max Output Rate"
          }
        },
        "type": "object",
        "required": [
          "device",
          "input_rate",
          "max_ratio",
          "max_output_rate"
        ],
        "title": "DacMaxRatioResponse",
        "description": "Maximum upsampling ratio response model."
      },
      "DacSelectRequest": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "persist": {
            "type": "boolean",
            "title": "Persist",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "device"
        ],
        "title": "DacSelectRequest",
        "description": "Request model for runtime DAC selection."
      },
      "DacSupportedRatesResponse": {
        "properties": {
          "device": {
            "type": "string",
            "title": "Device"
          },
          "family": {
            "type": "string",
            "title": "Family",
            "description": "Rate family: '44k' or '48k'"
          },
          "supported_rates": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Supported Rates"
          }
        },
        "type": "object",
        "required": [
          "device",
          "family",
          "supported_rates"
        ],
        "title": "DacSupportedRatesResponse",
        "description": "Supported rates for a rate family response model."
      },
      "DaemonStatus": {
        "properties": {
          "running": {
            "type": "boolean",
            "title": "Running"
          },
          "pid_file": {
            "type": "string",
            "title": "Pid File"
          },
          "binary_path": {
            "type": "string",
            "title": "Binary Path"
          }
        },
        "type": "object",
        "required": [
          "running",
          "pid_file",
          "binary_path"
        ],
        "title": "DaemonStatus",
        "description": "Daemon status response model."
      },
      "DelimiterActionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "status": {
            "$ref": "#/components/schemas/DelimiterStatus"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "status"
        ],
        "title": "DelimiterActionResponse",
        "description": "Response model for De-limiter enable/disable actions."
      },
      "DelimiterStatus": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "backend_available": {
            "type": "boolean",
            "title": "Backend Available",
            "default": false
          },
          "backend_valid": {
            "type": "boolean",
            "title": "Backend Valid",
            "default": false
          },
          "mode": {
            "type": "string",
            "title": "Mode",
            "default": "unknown"
          },
          "target_mode": {
            "type": "string",
            "title": "Target Mode",
            "default": "unknown"
          },
          "fallback_reason": {
            "type": "string",
            "title": "Fallback Reason",
            "default": "unknown"
          },
          "bypass_locked": {
            "type": "boolean",
            "title": "Bypass Locked",
            "default": false
          },
          "warmup": {
            "type": "boolean",
            "title": "Warmup",
            "default": false
          },
          "queue_seconds": {
            "type": "number",
            "title": "Queue Seconds",
            "default": 0.0
          },
          "queue_samples": {
            "type": "integer",
            "title": "Queue Samples",
            "default": 0
          },
          "last_inference_ms": {
            "type": "number",
            "title": "Last Inference Ms",
            "default": 0.0
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "DelimiterStatus",
        "description": "De-limiter runtime status."
      },
      "DevicesResponse": {
        "properties": {
          "devices": {
            "items": {
              "$ref": "#/components/schemas/AlsaDevice"
            },
            "type": "array",
            "title": "Devices"
          }
        },
        "type": "object",
        "required": [
          "devices"
        ],
        "title": "DevicesResponse",
        "description": "Available ALSA devices response model."
      },
      "EqActiveResponse": {
        "properties": {
          "active": {
            "type": "boolean",
            "title": "Active"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "source_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Type"
          },
          "has_modern_target": {
            "type": "boolean",
            "title": "Has Modern Target",
            "default": false
          },
          "opra_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Opra Info"
          },
          "opra_filters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Opra Filters",
            "default": []
          },
          "original_filters": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Original Filters",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "active"
        ],
        "title": "EqActiveResponse",
        "description": "Active EQ profile response model."
      },
      "EqProfileInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "modified": {
            "type": "number",
            "title": "Modified"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Profile type: 'opra' or 'custom'"
          },
          "filter_count": {
            "type": "integer",
            "title": "Filter Count"
          }
        },
        "type": "object",
        "required": [
          "name",
          "filename",
          "path",
          "size",
          "modified",
          "type",
          "filter_count"
        ],
        "title": "EqProfileInfo",
        "description": "EQ profile info model."
      },
      "EqProfilesResponse": {
        "properties": {
          "profiles": {
            "items": {
              "$ref": "#/components/schemas/EqProfileInfo"
            },
            "type": "array",
            "title": "Profiles"
          }
        },
        "type": "object",
        "required": [
          "profiles"
        ],
        "title": "EqProfilesResponse",
        "description": "EQ profiles list response model."
      },
      "EqTextImportRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Name"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Raw EQ profile text content"
          }
        },
        "type": "object",
        "required": [
          "name",
          "content"
        ],
        "title": "EqTextImportRequest",
        "description": "Request body for text-based EQ profile import."
      },
      "EqValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "default": []
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "default": []
          },
          "preamp_db": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preamp Db"
          },
          "filter_count": {
            "type": "integer",
            "title": "Filter Count",
            "default": 0
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_exists": {
            "type": "boolean",
            "title": "File Exists"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "recommended_preamp_db": {
            "type": "number",
            "title": "Recommended Preamp Db",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "valid",
          "filename",
          "file_exists",
          "size_bytes"
        ],
        "title": "EqValidationResponse",
        "description": "EQ profile validation response model."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "I2sPeerStatus": {
        "properties": {
          "running": {
            "type": "boolean",
            "title": "Running",
            "default": false
          },
          "mode": {
            "type": "string",
            "title": "Mode",
            "default": "none"
          },
          "sample_rate": {
            "type": "integer",
            "title": "Sample Rate",
            "default": 0
          },
          "format": {
            "type": "string",
            "title": "Format",
            "default": ""
          },
          "channels": {
            "type": "integer",
            "title": "Channels",
            "default": 0
          },
          "generation": {
            "type": "integer",
            "title": "Generation",
            "default": 0
          },
          "updated_at_unix_ms": {
            "type": "integer",
            "title": "Updated At Unix Ms",
            "default": 0
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "received_at_unix_ms": {
            "type": "integer",
            "title": "Received At Unix Ms",
            "default": 0
          }
        },
        "type": "object",
        "title": "I2sPeerStatus",
        "description": "保存済みの peer status（参照用）."
      },
      "I2sPeerStatusUpdate": {
        "properties": {
          "running": {
            "type": "boolean",
            "title": "Running",
            "default": false
          },
          "mode": {
            "type": "string",
            "title": "Mode",
            "default": "none"
          },
          "sample_rate": {
            "type": "integer",
            "title": "Sample Rate",
            "default": 0
          },
          "format": {
            "type": "string",
            "title": "Format",
            "default": ""
          },
          "channels": {
            "type": "integer",
            "title": "Channels",
            "default": 0
          },
          "generation": {
            "type": "integer",
            "title": "Generation",
            "default": 0
          },
          "updated_at_unix_ms": {
            "type": "integer",
            "title": "Updated At Unix Ms",
            "default": 0
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          }
        },
        "type": "object",
        "title": "I2sPeerStatusUpdate",
        "description": "Pi(usb-i2s-bridge) から Jetson Web へ送るステータス（更新用）."
      },
      "OpraEqAttribution": {
        "properties": {
          "license": {
            "type": "string",
            "title": "License",
            "default": "CC BY-SA 4.0"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "default": "OPRA Project"
          },
          "author": {
            "type": "string",
            "title": "Author"
          }
        },
        "type": "object",
        "required": [
          "author"
        ],
        "title": "OpraEqAttribution",
        "description": "OPRA EQ attribution model."
      },
      "OpraEqProfileInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "author": {
            "type": "string",
            "title": "Author",
            "default": ""
          },
          "details": {
            "type": "string",
            "title": "Details",
            "default": ""
          }
        },
        "additionalProperties": true,
        "type": "object",
        "required": [
          "id"
        ],
        "title": "OpraEqProfileInfo",
        "description": "OPRA EQ profile information model.\n\nNote: name field doesn't exist in OPRA data, use details or id as display name"
      },
      "OpraEqResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "author": {
            "type": "string",
            "title": "Author"
          },
          "details": {
            "type": "string",
            "title": "Details"
          },
          "parameters": {
            "additionalProperties": true,
            "type": "object",
            "title": "Parameters",
            "default": {}
          },
          "apo_format": {
            "type": "string",
            "title": "Apo Format"
          },
          "modern_target_applied": {
            "type": "boolean",
            "title": "Modern Target Applied"
          },
          "attribution": {
            "$ref": "#/components/schemas/OpraEqAttribution"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "author",
          "details",
          "apo_format",
          "modern_target_applied",
          "attribution"
        ],
        "title": "OpraEqResponse",
        "description": "OPRA EQ profile response model."
      },
      "OpraSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/OpraSearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "results",
          "count",
          "query"
        ],
        "title": "OpraSearchResponse",
        "description": "OPRA search results response model."
      },
      "OpraSearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "vendor": {
            "$ref": "#/components/schemas/OpraVendor"
          },
          "eq_profiles": {
            "items": {
              "$ref": "#/components/schemas/OpraEqProfileInfo"
            },
            "type": "array",
            "title": "Eq Profiles"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "vendor",
          "eq_profiles"
        ],
        "title": "OpraSearchResult",
        "description": "OPRA search result item model."
      },
      "OpraStats": {
        "properties": {
          "vendors": {
            "type": "integer",
            "title": "Vendors"
          },
          "products": {
            "type": "integer",
            "title": "Products"
          },
          "eq_profiles": {
            "type": "integer",
            "title": "Eq Profiles"
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "CC BY-SA 4.0"
          },
          "attribution": {
            "type": "string",
            "title": "Attribution",
            "default": "OPRA Project (https://github.com/opra-project/OPRA)"
          }
        },
        "type": "object",
        "required": [
          "vendors",
          "products",
          "eq_profiles"
        ],
        "title": "OpraStats",
        "description": "OPRA database statistics response model."
      },
      "OpraSyncAvailableResponse": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source"
          },
          "latest": {
            "type": "string",
            "title": "Latest"
          },
          "source_url": {
            "type": "string",
            "title": "Source Url"
          }
        },
        "type": "object",
        "required": [
          "source",
          "latest",
          "source_url"
        ],
        "title": "OpraSyncAvailableResponse",
        "description": "OPRA sync availability response model."
      },
      "OpraSyncJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status"
        ],
        "title": "OpraSyncJobResponse",
        "description": "OPRA sync job response model."
      },
      "OpraSyncMetadata": {
        "properties": {
          "commit_sha": {
            "type": "string",
            "title": "Commit Sha"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "source_url": {
            "type": "string",
            "title": "Source Url"
          },
          "downloaded_at": {
            "type": "string",
            "title": "Downloaded At"
          },
          "sha256": {
            "type": "string",
            "title": "Sha256"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Stats",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "commit_sha",
          "source",
          "source_url",
          "downloaded_at",
          "sha256",
          "size_bytes"
        ],
        "title": "OpraSyncMetadata",
        "description": "Metadata for a synced OPRA database version."
      },
      "OpraSyncStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id"
          },
          "current_commit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Commit"
          },
          "previous_commit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Commit"
          },
          "last_updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated At"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "versions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Versions",
            "default": []
          },
          "current_metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OpraSyncMetadata"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "OpraSyncStatusResponse",
        "description": "OPRA sync status response model."
      },
      "OpraSyncUpdateRequest": {
        "properties": {
          "target": {
            "type": "string",
            "title": "Target",
            "description": "latest or commit SHA"
          },
          "source": {
            "type": "string",
            "enum": [
              "github_raw",
              "cloudflare"
            ],
            "title": "Source"
          }
        },
        "type": "object",
        "required": [
          "target",
          "source"
        ],
        "title": "OpraSyncUpdateRequest",
        "description": "OPRA sync update request model."
      },
      "OpraVendor": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "OpraVendor",
        "description": "OPRA vendor information model."
      },
      "OpraVendorsResponse": {
        "properties": {
          "vendors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Vendors"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "vendors",
          "count"
        ],
        "title": "OpraVendorsResponse",
        "description": "OPRA vendors list response model."
      },
      "OutputModeOptions": {
        "properties": {
          "usb": {
            "$ref": "#/components/schemas/OutputModeUsbOptions"
          }
        },
        "type": "object",
        "title": "OutputModeOptions",
        "description": "Container for per-mode option structures."
      },
      "OutputModeResponse": {
        "properties": {
          "mode": {
            "type": "string",
            "const": "usb",
            "title": "Mode"
          },
          "available_modes": {
            "items": {
              "type": "string",
              "const": "usb"
            },
            "type": "array",
            "title": "Available Modes"
          },
          "options": {
            "$ref": "#/components/schemas/OutputModeOptions"
          }
        },
        "type": "object",
        "required": [
          "mode",
          "available_modes",
          "options"
        ],
        "title": "OutputModeResponse",
        "description": "Response payload for GET /api/output/mode."
      },
      "OutputModeUpdateRequest": {
        "properties": {
          "mode": {
            "type": "string",
            "const": "usb",
            "title": "Mode",
            "default": "usb"
          },
          "options": {
            "$ref": "#/components/schemas/OutputModeOptions"
          }
        },
        "type": "object",
        "title": "OutputModeUpdateRequest",
        "description": "Request payload for POST /api/output/mode."
      },
      "OutputModeUsbOptions": {
        "properties": {
          "preferred_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Device",
            "description": "Preferred ALSA device identifier"
          }
        },
        "type": "object",
        "title": "OutputModeUsbOptions",
        "description": "USB-specific output mode options."
      },
      "PartitionedConvolutionSettings": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "fast_partition_taps": {
            "type": "integer",
            "maximum": 262144.0,
            "minimum": 1024.0,
            "title": "Fast Partition Taps",
            "default": 32768
          },
          "min_partition_taps": {
            "type": "integer",
            "maximum": 262144.0,
            "minimum": 1024.0,
            "title": "Min Partition Taps",
            "default": 32768
          },
          "max_partitions": {
            "type": "integer",
            "maximum": 32.0,
            "minimum": 1.0,
            "title": "Max Partitions",
            "default": 4
          },
          "tail_fft_multiple": {
            "type": "integer",
            "maximum": 16.0,
            "minimum": 2.0,
            "title": "Tail Fft Multiple",
            "default": 2
          }
        },
        "type": "object",
        "title": "PartitionedConvolutionSettings",
        "description": "Partitioned convolution (low latency) configuration."
      },
      "PeakLevels": {
        "properties": {
          "input": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "upsampler": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "post_mix": {
            "$ref": "#/components/schemas/PeakStage"
          },
          "post_gain": {
            "$ref": "#/components/schemas/PeakStage"
          }
        },
        "type": "object",
        "title": "PeakLevels",
        "description": "Peak levels across pipeline stages."
      },
      "PeakStage": {
        "properties": {
          "linear": {
            "type": "number",
            "title": "Linear",
            "default": 0.0
          },
          "dbfs": {
            "type": "number",
            "title": "Dbfs",
            "default": -200.0
          }
        },
        "type": "object",
        "title": "PeakStage",
        "description": "Single stage peak measurement."
      },
      "PhaseTypeResponse": {
        "properties": {
          "phase_type": {
            "type": "string",
            "enum": [
              "minimum",
              "linear"
            ],
            "title": "Phase Type",
            "description": "Current phase type: 'minimum' or 'linear'"
          },
          "latency_warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Warning",
            "description": "Warning message for linear phase (high latency ~0.45s @ 705.6kHz)"
          }
        },
        "type": "object",
        "required": [
          "phase_type"
        ],
        "title": "PhaseTypeResponse",
        "description": "Phase type response model."
      },
      "PhaseTypeUpdateRequest": {
        "properties": {
          "phase_type": {
            "type": "string",
            "enum": [
              "minimum",
              "linear"
            ],
            "title": "Phase Type",
            "description": "Target phase type: 'minimum' or 'linear'"
          }
        },
        "type": "object",
        "required": [
          "phase_type"
        ],
        "title": "PhaseTypeUpdateRequest",
        "description": "Phase type update request model."
      },
      "PiStatus": {
        "properties": {
          "running": {
            "type": "boolean",
            "title": "Running"
          },
          "mode": {
            "type": "string",
            "title": "Mode"
          },
          "sample_rate": {
            "type": "integer",
            "title": "Sample Rate"
          },
          "format": {
            "type": "string",
            "title": "Format"
          },
          "channels": {
            "type": "integer",
            "title": "Channels"
          },
          "xruns": {
            "type": "integer",
            "title": "Xruns"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "last_error_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error At Unix Ms"
          },
          "uptime_sec": {
            "type": "number",
            "title": "Uptime Sec"
          },
          "updated_at_unix_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At Unix Ms"
          }
        },
        "type": "object",
        "required": [
          "running",
          "mode",
          "sample_rate",
          "format",
          "channels",
          "xruns",
          "uptime_sec"
        ],
        "title": "PiStatus",
        "description": "Pi(USB-I2S bridge) のステータス."
      },
      "PiUsbI2sConfig": {
        "properties": {
          "capture_device": {
            "type": "string",
            "title": "Capture Device"
          },
          "playback_device": {
            "type": "string",
            "title": "Playback Device"
          },
          "channels": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Channels"
          },
          "fallback_rate": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Fallback Rate"
          },
          "preferred_format": {
            "type": "string",
            "title": "Preferred Format"
          },
          "passthrough": {
            "type": "boolean",
            "title": "Passthrough"
          },
          "alsa_buffer_time_us": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Alsa Buffer Time Us"
          },
          "alsa_latency_time_us": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Alsa Latency Time Us"
          },
          "queue_time_ns": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Queue Time Ns"
          },
          "fade_ms": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Fade Ms"
          },
          "poll_interval_sec": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Poll Interval Sec"
          },
          "restart_backoff_sec": {
            "type": "number",
            "minimum": 0.0,
            "title": "Restart Backoff Sec"
          },
          "keep_silence_when_no_capture": {
            "type": "boolean",
            "title": "Keep Silence When No Capture"
          },
          "status_report_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Report Url"
          },
          "status_report_timeout_ms": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Status Report Timeout Ms"
          },
          "status_report_min_interval_sec": {
            "type": "number",
            "minimum": 0.0,
            "title": "Status Report Min Interval Sec"
          },
          "control_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Endpoint"
          },
          "control_peer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Peer"
          },
          "control_require_peer": {
            "type": "boolean",
            "title": "Control Require Peer"
          },
          "control_poll_interval_sec": {
            "type": "number",
            "exclusiveMinimum": 0.0,
            "title": "Control Poll Interval Sec"
          },
          "control_timeout_ms": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Control Timeout Ms"
          }
        },
        "type": "object",
        "required": [
          "capture_device",
          "playback_device",
          "channels",
          "fallback_rate",
          "preferred_format",
          "passthrough",
          "alsa_buffer_time_us",
          "alsa_latency_time_us",
          "queue_time_ns",
          "fade_ms",
          "poll_interval_sec",
          "restart_backoff_sec",
          "keep_silence_when_no_capture",
          "status_report_timeout_ms",
          "status_report_min_interval_sec",
          "control_require_peer",
          "control_poll_interval_sec",
          "control_timeout_ms"
        ],
        "title": "PiUsbI2sConfig",
        "description": "Pi 側 USB-I2S ブリッジの設定."
      },
      "PiUsbI2sConfigUpdate": {
        "properties": {
          "capture_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Capture Device"
          },
          "playback_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Playback Device"
          },
          "channels": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Channels"
          },
          "fallback_rate": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fallback Rate"
          },
          "preferred_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Format"
          },
          "passthrough": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Passthrough"
          },
          "alsa_buffer_time_us": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Buffer Time Us"
          },
          "alsa_latency_time_us": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Latency Time Us"
          },
          "queue_time_ns": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Queue Time Ns"
          },
          "fade_ms": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fade Ms"
          },
          "poll_interval_sec": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Poll Interval Sec"
          },
          "restart_backoff_sec": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Restart Backoff Sec"
          },
          "keep_silence_when_no_capture": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keep Silence When No Capture"
          },
          "status_report_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Report Url"
          },
          "status_report_timeout_ms": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Report Timeout Ms"
          },
          "status_report_min_interval_sec": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Report Min Interval Sec"
          },
          "control_endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Endpoint"
          },
          "control_peer": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Peer"
          },
          "control_require_peer": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Require Peer"
          },
          "control_poll_interval_sec": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Poll Interval Sec"
          },
          "control_timeout_ms": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Control Timeout Ms"
          }
        },
        "type": "object",
        "title": "PiUsbI2sConfigUpdate",
        "description": "Pi 側 USB-I2S ブリッジの設定更新."
      },
      "Settings": {
        "properties": {
          "alsa_device": {
            "type": "string",
            "title": "Alsa Device",
            "default": "default"
          },
          "upsample_ratio": {
            "type": "integer",
            "title": "Upsample Ratio",
            "default": 8
          },
          "buffer_size": {
            "type": "integer",
            "title": "Buffer Size",
            "default": 0
          },
          "period_size": {
            "type": "integer",
            "title": "Period Size",
            "default": 0
          },
          "gain": {
            "type": "number",
            "title": "Gain",
            "default": 1.0
          },
          "headroom_target": {
            "type": "number",
            "title": "Headroom Target",
            "default": 0.0
          },
          "eq_enabled": {
            "type": "boolean",
            "title": "Eq Enabled",
            "default": false
          },
          "eq_profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile"
          },
          "eq_profile_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile Path"
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate",
            "default": 44100
          },
          "output_rate": {
            "type": "integer",
            "title": "Output Rate",
            "default": 352800
          },
          "crossfeed": {
            "$ref": "#/components/schemas/CrossfeedSettings"
          }
        },
        "type": "object",
        "title": "Settings",
        "description": "Application settings model."
      },
      "SettingsUpdate": {
        "properties": {
          "alsa_device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alsa Device"
          },
          "upsample_ratio": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upsample Ratio"
          },
          "eq_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Enabled"
          },
          "eq_profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile"
          },
          "eq_profile_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq Profile Path"
          },
          "input_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Rate"
          },
          "output_rate": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Rate"
          },
          "crossfeed": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CrossfeedSettingsUpdate"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "SettingsUpdate",
        "description": "Settings update request model."
      },
      "Status": {
        "properties": {
          "settings": {
            "$ref": "#/components/schemas/Settings"
          },
          "alsa_connected": {
            "type": "boolean",
            "title": "Alsa Connected",
            "default": false
          },
          "clip_count": {
            "type": "integer",
            "title": "Clip Count",
            "default": 0
          },
          "total_samples": {
            "type": "integer",
            "title": "Total Samples",
            "default": 0
          },
          "clip_rate": {
            "type": "number",
            "title": "Clip Rate",
            "default": 0.0
          },
          "daemon_running": {
            "type": "boolean",
            "title": "Daemon Running",
            "default": false
          },
          "eq_active": {
            "type": "boolean",
            "title": "Eq Active",
            "default": false
          },
          "input_rate": {
            "type": "integer",
            "title": "Input Rate",
            "default": 0
          },
          "output_rate": {
            "type": "integer",
            "title": "Output Rate",
            "default": 0
          },
          "peaks": {
            "$ref": "#/components/schemas/PeakLevels"
          },
          "xrun_count": {
            "type": "integer",
            "title": "Xrun Count",
            "default": 0
          },
          "buffer_underflows": {
            "type": "integer",
            "title": "Buffer Underflows",
            "default": 0
          },
          "buffer_overflows": {
            "type": "integer",
            "title": "Buffer Overflows",
            "default": 0
          },
          "buffer_capacity_frames": {
            "type": "integer",
            "title": "Buffer Capacity Frames",
            "default": 0
          },
          "dropped_frames": {
            "type": "integer",
            "title": "Dropped Frames",
            "default": 0
          },
          "rendered_silence_blocks": {
            "type": "integer",
            "title": "Rendered Silence Blocks",
            "default": 0
          },
          "rendered_silence_frames": {
            "type": "integer",
            "title": "Rendered Silence Frames",
            "default": 0
          },
          "alsa_buffer_size_config": {
            "type": "integer",
            "title": "Alsa Buffer Size Config",
            "default": 0
          },
          "alsa_period_size_config": {
            "type": "integer",
            "title": "Alsa Period Size Config",
            "default": 0
          },
          "delimiter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DelimiterStatus"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "settings"
        ],
        "title": "Status",
        "description": "System status response model."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ZmqPingResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "response": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Response"
          },
          "daemon_running": {
            "type": "boolean",
            "title": "Daemon Running"
          }
        },
        "type": "object",
        "required": [
          "success",
          "daemon_running"
        ],
        "title": "ZmqPingResponse",
        "description": "ZeroMQ ping response model."
      }
    }
  },
  "tags": [
    {
      "name": "status",
      "description": "System status and settings management"
    },
    {
      "name": "daemon",
      "description": "Audio daemon lifecycle and ZeroMQ communication"
    },
    {
      "name": "eq",
      "description": "EQ profile management (import, activate, delete)"
    },
    {
      "name": "opra",
      "description": "OPRA headphone database integration (CC BY-SA 4.0)"
    },
    {
      "name": "dac",
      "description": "DAC capability detection and sample rate filtering"
    },
    {
      "name": "crossfeed",
      "description": "Crossfeed (HRTF-based headphone virtualization) control"
    },
    {
      "name": "delimiter",
      "description": "De-limiter runtime control and status"
    },
    {
      "name": "output",
      "description": "Output mode selection and device preferences"
    },
    {
      "name": "pi",
      "description": "Raspberry Pi USB-I2S bridge proxy control"
    },
    {
      "name": "legacy",
      "description": "Deprecated endpoints - use alternatives instead"
    }
  ]
}
