# PipeWire RTP Sink Configuration (Unicast)
#
# ユニキャスト設定: Magic Boxに直接送信
# マルチキャストが使えない環境で使用します。
#
# 使い方:
#   1. Magic BoxのIPアドレスを確認
#   2. destination.ip を編集
#   3. ファイルをコピー:
#      mkdir -p ~/.config/pipewire/pipewire.conf.d
#      cp docs/setup/configs/rtp-sink-unicast.conf ~/.config/pipewire/pipewire.conf.d/rtp-sink.conf
#   4. PipeWire再起動:
#      systemctl --user restart pipewire pipewire-pulse
#

context.modules = [
    {   name = libpipewire-module-rtp-sink
        args = {
            local.ip = "0.0.0.0"

            # ★ Magic BoxのIPアドレスに変更してください ★
            destination.ip = "192.168.1.10"
            destination.port = 46000

            format = "S16"
            audio.rate = 44100
            audio.channels = 2

            mtu = 1280
            ttl = 32  # ユニキャストでは無意味だが設定可能

            stream.props = {
                node.name = "rtp-sink"
                node.description = "RTP Network Sink (Unicast to Magic Box)"
                media.class = "Audio/Sink"
            }
        }
    }
]
