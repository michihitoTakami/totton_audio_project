<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Box - イコライザ設定</title>
    <link rel="stylesheet" href="/static/mockup/styles.css">
</head>
<body>
    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="logo">
            <h1>MAGIC BOX</h1>
            <div class="tagline">Ultimate Audio Experience</div>
        </div>
        <a href="/mockup/dashboard" class="nav-item">📊 ダッシュボード</a>
        <a href="/mockup/headphones" class="nav-item">🎧 ヘッドホン選択</a>
        <a href="/mockup/eq" class="nav-item active">🎚️ EQ設定</a>
        <a href="/mockup/system" class="nav-item">⚙️ システム設定</a>
        <a href="/mockup/status" class="nav-item">📈 ステータス監視</a>
        <a href="/mockup/rtp" class="nav-item">🌐 RTP設定</a>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <div class="page-header">
            <h2>Equalizer Settings</h2>
            <div class="subtitle">OPRAデータベースによる最適化されたヘッドホン補正</div>
        </div>

        <!-- Search Section -->
        <div class="control-section">
            <h2>🔍 ヘッドホン検索</h2>
            <div class="description">OPRAデータベースから使用するヘッドホンを検索</div>
            <div class="search-container">
                <input type="text" id="headphoneSearch" class="search-input"
                       placeholder="ヘッドホン名で検索... (例: Sony MDR-Z1R, Sennheiser HD 800)"
                       autocomplete="off">
                <div class="search-icon">🔍</div>
            </div>
            <div class="search-results" id="searchResults" style="display:none;">
                <!-- Mock results -->
                <div class="search-result-item" data-name="Sony MDR-Z1R" data-author="oratory1990">
                    <div class="result-name">Sony MDR-Z1R</div>
                    <div class="result-meta">OPRA • KB5000_7 • oratory1990</div>
                </div>
                <div class="search-result-item" data-name="Sennheiser HD 800" data-author="crinacle">
                    <div class="result-name">Sennheiser HD 800</div>
                    <div class="result-meta">OPRA • KB5000_7 • crinacle</div>
                </div>
                <div class="search-result-item" data-name="Audeze LCD-5" data-author="oratory1990">
                    <div class="result-name">Audeze LCD-5</div>
                    <div class="result-meta">OPRA • KB5000_7 • oratory1990</div>
                </div>
            </div>
        </div>

        <!-- Current Profile -->
        <div class="control-section">
            <h2>📋 現在のプロファイル</h2>
            <div class="eq-profile-card">
                <div class="profile-header">
                    <div class="profile-name" id="profileName">Sony MDR-Z1R</div>
                    <div class="profile-meta">
                        <span class="meta-badge">OPRA</span>
                        <span class="meta-badge">KB5000_7</span>
                        <span class="meta-author">Author: oratory1990</span>
                    </div>
                </div>
                <div class="profile-license">
                    <span class="license-badge">CC BY-SA 4.0</span>
                    商用利用OK、帰属表示必須
                </div>
            </div>
        </div>

        <!-- Preamp Section -->
        <div class="control-section">
            <h2>🎚️ プリアンプ調整</h2>
            <div class="description">ヘッドルームを確保するための全体ゲイン調整</div>
            <div class="preamp-control">
                <div class="preamp-display">
                    <div class="preamp-label">Preamp Gain</div>
                    <div class="preamp-value" id="preampValue">-6.0 dB</div>
                </div>
                <input type="range" id="preampSlider" class="preamp-slider"
                       min="-20" max="0" step="0.1" value="-6.0">
                <div class="preamp-hint">
                    推奨値: <span class="hint-value">-6.0 dB</span> (最大ブースト量に基づく)
                </div>
            </div>
        </div>

        <!-- EQ Filters Display -->
        <div class="control-section">
            <h2>📊 EQフィルター</h2>
            <div class="description">Parametric EQ設定（Equalizer APO形式）</div>
            <div class="eq-filters-container" id="eqFilters">
                <!-- Mock EQ filters -->
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 1:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 105 Hz</span>
                        <span class="param gain">Gain -3.9 dB</span>
                        <span class="param">Q 0.7</span>
                    </div>
                </div>
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 2:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 720 Hz</span>
                        <span class="param gain">Gain -1.8 dB</span>
                        <span class="param">Q 1.1</span>
                    </div>
                </div>
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 3:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 2170 Hz</span>
                        <span class="param gain">Gain 3.8 dB</span>
                        <span class="param">Q 2.9</span>
                    </div>
                </div>
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 4:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 3270 Hz</span>
                        <span class="param gain">Gain -4.5 dB</span>
                        <span class="param">Q 3.5</span>
                    </div>
                </div>
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 5:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 5366 Hz</span>
                        <span class="param gain">Gain 2.8 dB</span>
                        <span class="param">Q 1.5</span>
                    </div>
                </div>
                <div class="eq-filter-item">
                    <div class="filter-index">Filter 6:</div>
                    <div class="filter-params">
                        <span class="param">ON</span>
                        <span class="param type">PK</span>
                        <span class="param">Fc 7800 Hz</span>
                        <span class="param gain">Gain 5.2 dB</span>
                        <span class="param">Q 4.8</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="control-section">
            <div class="action-buttons">
                <button class="action-btn primary">
                    <div class="btn-icon">✓</div>
                    <div class="btn-text">適用</div>
                </button>
                <button class="action-btn secondary">
                    <div class="btn-icon">📋</div>
                    <div class="btn-text">コピー</div>
                </button>
                <button class="action-btn danger">
                    <div class="btn-icon">✕</div>
                    <div class="btn-text">無効化</div>
                </button>
            </div>
        </div>
    </div>

    <script src="/static/mockup/eq.js"></script>
</body>
</html>
